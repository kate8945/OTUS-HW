# OTUS-HW
OTUS NoSQL Home works

## MongoDB

AP

Не гарантирует целостность данных, обеспечивая их доступность и устойчивость к разделению

#### + Доступность

Высокая доступность обеспечивается за счет архитектуры MongoDB, которая позволяет создавать наборы реплик. Набор реплик состоит из нескольких инстансов MongoDB, один из которых выступает в качестве основного узла (primary или узел-лидер), обрабатывающего операции записи, а другие служат в качестве дополнительных узлов, реплицирующих данные из основного (secondaries или вторичные узлы). В случае выхода из строя одного или нескольких узлов один из дополнительных узлов может быть выбран в качестве нового основного. За счет этого обеспечивается постоянная доступность кластера. 

#### + Разделение сети 

MongoDB характеризуется высокой устойчивостью к разделению сети за счет репликации и шардинга. 
Если основной сервер выходит из строя, один из вторичных серверов становится новым основным. 
Что касается шардинга (данные разделяются на несколько частей (шардов) по определнному ключу -> каждый шард хранится на отдельном сервере -> операции записи и чтения отправляются на соответстующий шард), то этот механизм позволяет распределить нагрузку между серверами и повысить производительность. Если один из серверов выходит из строя, операции направляются на другие серверы. 

#### - Консистетнтность 

В MongoDB данные могут быть не согласованы между узлами из-за асинхронной репликации (используется по умолчанию), при которой вторичные узлы копируют данные с основного узла без ожидания подтверждения успешной записи. Это может привести к временной несогласованности данных между узлами.

## MSSQL

CA 

Данные во всех узлах кластера согласованы и доступны, но не устойчивы к разделению. 
Такие системы возможны при поддержке ACID-требований к транзакциям (Атомарность, Согласованность, Изоляция, Долговечность) и абсолютной надежности сети.

#### + Консистентность 
MS SQL - это реляционная база данных, где обычно обеспечивается высокая консистеность данных. 
Aрхитектура MS SQL включает Ядро БД, которое отвечает за управление данными, обработку запросов и обеспечение согласованности данных.

#### + Доступность 

Также архитектура MS SQL включает
- Репликация: поддерживает репликацию данных на нескольких серверах, это обеспечивает выскоую доступность, так как гарантирует доступность кластера при выходе из строя одного из узлов. 
- Кластеризация: обеспечивает распределение нагрузки на несколлько серверов и повышает производительность. Кластеризация также обеспечивает высокую доступность, поскольку система может продолжать работать даже при выходе из строя одного из узлов.

#### - Разделение сети 

MSSQL менее устойчива к разделению, так как она полагается на централизованный сервер или кластер серверов для обеспечения согласованности данных.

## Cassandra

AP - Availability, Partition tolerance. 

Не гарантирует целостность данных, но обеспечивает их доступность и устойчивость к разделению. 

Кластер Cassandra представляет собой набор нод (узлов). Главного узла нет, каждый узел может выполнять все операции с базой данных, а также обслуживать запросы клиентов.
Данные имеют коэффициент репликации, который определяет количество копий (реплик), которые необходимо создать. Реплики автоматически сохраняются на разных узлах. Узел, который первым получает запрос от клиента, является координатором. Задачей координатора является переадресация запроса узлам, содержащим данные для этого запроса, и отправка результатов обратно координатору. Любой узел в кластере может выступать в качестве координатора.

#### + Разделение сети

В Cassandra используется кольцевая топология, в которой каждый узел связан с определённым количеством соседних узлов. Если один из узлов выходит из строя, другие узлы продолжают функционировать и обрабатывать запросы. За счет такого подхода кластер остается доступным, даже если происходит разделение сети. Также поддерживается автоматическое восстановление после сбоя узла, что дополнительно повышает её устойчивость к разделению сети.

#### + Доступность 

Кольцевая топология также обеспечивает доступность кластера (см. + Разделение сети). Высокая доступность также гарантируется за счет механизма репликации данных на несколько узлов. Это позволяет системе продолжать работу, даже если один из узлов становится недоступным. 

#### - Консистентность 

Данные могут быть реплицированы несинхронно между узлами, Cassandra обеспечивает конечную консистентность (eventual consistency). Это означает, что после записи данные будут доступны для чтения на всех узлах, но не сразу, а через некоторое время, что может привести к несогласованности данных между нодами. 

